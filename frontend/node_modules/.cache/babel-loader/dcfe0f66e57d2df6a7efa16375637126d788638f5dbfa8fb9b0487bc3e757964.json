{"ast":null,"code":"import React,{useState,useEffect}from'react';import Card from'../components/common/Card';import Table from'../components/common/Table';import Input from'../components/common/Input';import PageHeader from'../components/common/PageHeader';import FormContainer from'../components/common/FormContainer';import useFetch from'../hooks/useFetch';import{programsApi}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Programs=()=>{const{data:programs,loading,execute}=useFetch([]);const[showForm,setShowForm]=useState(false);const[formData,setFormData]=useState({name:'',description:''});const columns=[{header:'ID',accessor:'id'},{header:'Name',accessor:'name'},{header:'Description',accessor:'description'}];useEffect(()=>{fetchPrograms();},[]);const fetchPrograms=async()=>{await execute(programsApi.getAll);};const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{await programsApi.create(formData);setFormData({name:'',description:''});setShowForm(false);fetchPrograms();}catch(error){console.error('Error creating program:',error);}};const handleToggleForm=()=>{setShowForm(!showForm);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeader,{title:\"Programs\",subtitle:\"Manage health programs in the system\",showAction:true,actionText:showForm?'Cancel':'Add Program',onActionClick:handleToggleForm}),showForm&&/*#__PURE__*/_jsxs(FormContainer,{title:\"Add New Program\",onSubmit:handleSubmit,onCancel:handleToggleForm,submitText:\"Save Program\",children:[/*#__PURE__*/_jsx(Input,{label:\"Program Name\",id:\"name\",name:\"name\",value:formData.name,onChange:handleInputChange,placeholder:\"Enter program name\",required:true}),/*#__PURE__*/_jsx(Input,{label:\"Description\",id:\"description\",name:\"description\",value:formData.description,onChange:handleInputChange,placeholder:\"Enter program description\"})]}),/*#__PURE__*/_jsx(Card,{children:loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center py-4\",children:\"Loading programs...\"}):/*#__PURE__*/_jsx(Table,{columns:columns,data:programs||[]})})]});};export default Programs;","map":{"version":3,"names":["React","useState","useEffect","Card","Table","Input","PageHeader","FormContainer","useFetch","programsApi","jsx","_jsx","jsxs","_jsxs","Programs","data","programs","loading","execute","showForm","setShowForm","formData","setFormData","name","description","columns","header","accessor","fetchPrograms","getAll","handleInputChange","e","value","target","handleSubmit","preventDefault","create","error","console","handleToggleForm","children","title","subtitle","showAction","actionText","onActionClick","onSubmit","onCancel","submitText","label","id","onChange","placeholder","required","className"],"sources":["C:/Users/HP/CEMA/frontend/src/pages/Programs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Card from '../components/common/Card';\nimport Table from '../components/common/Table';\nimport Input from '../components/common/Input';\nimport PageHeader from '../components/common/PageHeader';\nimport FormContainer from '../components/common/FormContainer';\nimport useFetch from '../hooks/useFetch';\nimport { programsApi } from '../services/api';\n\nconst Programs = () => {\n  const { data: programs, loading, execute } = useFetch([]);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n  });\n\n  const columns = [\n    { header: 'ID', accessor: 'id' },\n    { header: 'Name', accessor: 'name' },\n    { header: 'Description', accessor: 'description' },\n  ];\n\n  useEffect(() => {\n    fetchPrograms();\n  }, []);\n\n  const fetchPrograms = async () => {\n    await execute(programsApi.getAll);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await programsApi.create(formData);\n      setFormData({ name: '', description: '' });\n      setShowForm(false);\n      fetchPrograms();\n    } catch (error) {\n      console.error('Error creating program:', error);\n    }\n  };\n\n  const handleToggleForm = () => {\n    setShowForm(!showForm);\n  };\n\n  return (\n    <div>\n      <PageHeader \n        title=\"Programs\"\n        subtitle=\"Manage health programs in the system\"\n        showAction={true}\n        actionText={showForm ? 'Cancel' : 'Add Program'}\n        onActionClick={handleToggleForm}\n      />\n\n      {showForm && (\n        <FormContainer \n          title=\"Add New Program\" \n          onSubmit={handleSubmit}\n          onCancel={handleToggleForm}\n          submitText=\"Save Program\"\n        >\n          <Input\n            label=\"Program Name\"\n            id=\"name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleInputChange}\n            placeholder=\"Enter program name\"\n            required\n          />\n          <Input\n            label=\"Description\"\n            id=\"description\"\n            name=\"description\"\n            value={formData.description}\n            onChange={handleInputChange}\n            placeholder=\"Enter program description\"\n          />\n        </FormContainer>\n      )}\n\n      <Card>\n        {loading ? (\n          <p className=\"text-center py-4\">Loading programs...</p>\n        ) : (\n          <Table columns={columns} data={programs || []} />\n        )}\n      </Card>\n    </div>\n  );\n};\n\nexport default Programs; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}